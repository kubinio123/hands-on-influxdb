from(bucket: "crypto")
  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)
  |> filter(fn: (r) => r["_measurement"] == "prices")
  |> filter(fn: (r) => r["currency"] == "bitcoin")
  |> filter(fn: (r) => r["_field"] == "price")
  |> timedMovingAverage(every: 1m, period: 30m)
  |> yield(name: "MA30m")
  |> timedMovingAverage(every: 1m, period: 60m)
  |> yield(name: "MA60m")
